# web_team_servlet
a web model managing the team api for the web site
长春高校MAJOR板块 ：

不要吐槽，我当时的确很垃圾。刚学。（当然现在也很垃圾）

	是很久前举办长春高校5校major的时候所写的一个傻逼的小demo。

	主要是PHP代码。有一部分servlet。 

	主index.html页面通过判断时间戳来计算这是第几天，工作日为报名时间，跳转至workday.php。如果为其他的报名时间跳转到对应的比赛页面（比赛日0，比赛日1，比赛日2；周五晚，周六，周日）。



	workday.php就是一个倒计时，队长报名 会从表单里面选一个已经写死在前端里的战队名，然后将密码跟写死在前端里的数字"8088178"进行比对，比对通过后，队长选择自己的队伍（写死在前端里面的），然后通过接口把自己队名通过get请求粘在url里，然后后端读取这个参数，把战队名称写入到某个路径下的json数组里。	

	workday页面的滚动枪械栏，会通过另一个接口读取这个list，然后把list数据放到前端，以战队图片的形式显示在滚动枪械栏里面。

	workday的 队员确认 实际跟确认没有任何关系，它只是把队员的steam64位ID和战队名称等数据写入到SQL表里。（PHPmyadmin、在本机上）



	在比赛日的PHP中，会访问现在队伍的jsonlist，队长身份的人选择自己的战队和敌人战队，然后点击开始比赛 ，前端就会通过一个叫serverquery的PHP包，把预先写好的cfg名字和命令通过rcon的方式 发送给csgo服务器（现在服务器已经是回防服务器了），然后csgo服务器会接受rcon命令（“rcon exec xxxx.cfg”）然后执行配置文件。cfg里面包含了战队有哪些队员，ob都有谁等等。实行严格白名单。服务器端插件使用的是get5比赛插件。

	比赛结束后，淘汰一方的队长再次登录网站，点“我被淘汰了”按钮。会通过一个servlet接口访问list 然后把自己队伍的名字删除掉。

	前端页面会把list拿过来然后取相近的新list为其对手。



	

总之，这个项目是有严重问题的。没有任何细节。

目标是做一个长春高校联赛的系统，但是开发时间连上比赛只有一周我还要现学 php java和servlet

所以现在看来又很多要删掉和优化的地方，甚至逻辑都需要改。

如果最终做出来了这个比赛的系统，那么这里面99%的代码都是要删除替换掉的。



接手或者重构这个项目，你需要：

	会servlet 、PHP. 或者其他的什么后端语言、框架。 

	有大胆子，敢勇敢的删代码和写代码。（那些代码真的屎，你愿意可以设计所有逻辑然后重构）

	了解CSGO服务器的rcon运作机制

	了解CSGO服务器的get5比赛插件

	如果打算重构的话，设计下架构跟大家一起讨论。
